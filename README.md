# CogniTrade
QuantConnect Python algorithm leverages artificial intelligence to generate precise buy and sell signals. It features a robust position management system with dynamic capital allocation and adaptive stop-loss/take-profit rules, ensuring risk control and maximizing profit potential

## Multi-Layer Perceptron (MLP) Trading Algorithm

This QuantConnect algorithm leverages a Multi-Layer Perceptron (MLP) as its core AI model for generating trading signals. The model identifies five distinct signal types: NONE (neutral), LONG, SHORT, STRONG LONG, and STRONG SHORT. These signals are derived from an MLP model trained on various trend and oscillator indicators.

Customizable Position Management

A key strength of this algorithm lies in its highly customizable position management system, offering granular control over how the algorithm reacts to new signals based on the current market position.

#### The algorithm provides flexible strategies for handling new signals:

1. Signals in the Same Direction as Current Position: When the algorithm is already in a position (e.g., a long position) and receives another signal in the same direction (e.g., another long signal), it offers several configurable responses:

 *  Do not send the new signal: Ignores the reinforcing signal.

 * Send the signal: Allows for increasing exposure.

 * Send only if the current position is at a loss: Aims to average down or increase position size in unfavorable conditions.

 * Send only if the signal is of the STRONG type: Prioritizes high-conviction signals for increasing exposure.

 * Send only if it's STRONG and the current position is at a loss: Combines high conviction with a loss-averaging strategy.
        
This logic applies identically to both long and short positions.

2. Signals Contrary to Current Position: If a signal opposes the current open position (e.g., a short signal while holding a long position), the algorithm can be configured to:

 * Do not send the signal: Ignores the opposing signal.

 * Send the signal: Allows for potentially opening an opposing position.

 * Send the signal if the position is at a loss: Might be used for hedging or cutting losses.

 * Close the position: Immediately exits the current trade.

 * Close the position if the position is at a profit: Allows for taking profits based on an opposing signal.

 * Send only if the signal is of the STRONG type: Prioritizes high-conviction opposing signals.

3. Neutral Signals While in Position: When the model generates a "NONE" (neutral) signal while a position is open, the algorithm can:

 * Do not send the signal: Ignores the neutral indication.

 * Send the signal: Potentially used for internal logging or further analysis.

 * Close the position: Exits the current trade based on the neutral signal.

 * Close the position if at a profit: Allows for taking profits when the market indicates neutrality.

#### Additional Configurable Parameters

Beyond position management, the algorithm offers further customization:

 * Model Training Frequency: The MLP model can be retrained at three different frequencies: daily, weekly, or monthly, allowing for adaptation to changing market conditions.

 * Signal Checking Frequency: The trained model's signals can be checked with three options: once a day at market open, once a day before market close, or twice a day (at market open and before market close).

 * Portfolio Construction: Four different portfolio construction methods are available: ACCUMULATIVE_INSIGHT, CONFIDENCE_WEIGHTED, EQUAL_WEIGHTING, and INSIGHT_WEIGHTING. Each signal generated by the MLP model includes confidence and weight parameters, which are utilized by these portfolio construction methods.

 * Order Execution Type: Orders can be executed using two distinct types: IMMEDIATE for instant execution or VOLUME_WEIGHTED_AVERAGE_PRICE (VWAP) for execution across a period to minimize market impact.
